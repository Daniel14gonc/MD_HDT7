<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.335">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>MD_HDT7</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="HDT_7_files/libs/clipboard/clipboard.min.js"></script>
<script src="HDT_7_files/libs/quarto-html/quarto.js"></script>
<script src="HDT_7_files/libs/quarto-html/popper.min.js"></script>
<script src="HDT_7_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="HDT_7_files/libs/quarto-html/anchor.min.js"></script>
<link href="HDT_7_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="HDT_7_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="HDT_7_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="HDT_7_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="HDT_7_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">MD_HDT7</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>datos <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"train.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="dvisión-de-variables-numéricas-y-obtención-de-data-de-prueba-y-entrenamiento" class="level2">
<h2 class="anchored" data-anchor-id="dvisión-de-variables-numéricas-y-obtención-de-data-de-prueba-y-entrenamiento">1. Dvisión de variables numéricas y obtención de data de prueba y entrenamiento</h2>
<section id="transformación-y-división-de-variables" class="level3">
<h3 class="anchored" data-anchor-id="transformación-y-división-de-variables">1.1 Transformación y división de variables</h3>
<p>Al observar las variables se puede evidenciar que hay diferentes variables que tienen datos en diferentes escalas. Además, del análisis exploratorio previo se sabe que las variables no siguen distribuciones normales, así que se escalaron y normalizaron las variables.</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>  Id MSSubClass MSZoning LotFrontage LotArea Street Alley LotShape LandContour
1  1         60       RL          65    8450   Pave  &lt;NA&gt;      Reg         Lvl
2  2         20       RL          80    9600   Pave  &lt;NA&gt;      Reg         Lvl
3  3         60       RL          68   11250   Pave  &lt;NA&gt;      IR1         Lvl
4  4         70       RL          60    9550   Pave  &lt;NA&gt;      IR1         Lvl
5  5         60       RL          84   14260   Pave  &lt;NA&gt;      IR1         Lvl
6  6         50       RL          85   14115   Pave  &lt;NA&gt;      IR1         Lvl
  Utilities LotConfig LandSlope Neighborhood Condition1 Condition2 BldgType
1    AllPub    Inside       Gtl      CollgCr       Norm       Norm     1Fam
2    AllPub       FR2       Gtl      Veenker      Feedr       Norm     1Fam
3    AllPub    Inside       Gtl      CollgCr       Norm       Norm     1Fam
4    AllPub    Corner       Gtl      Crawfor       Norm       Norm     1Fam
5    AllPub       FR2       Gtl      NoRidge       Norm       Norm     1Fam
6    AllPub    Inside       Gtl      Mitchel       Norm       Norm     1Fam
  HouseStyle OverallQual OverallCond YearBuilt YearRemodAdd RoofStyle RoofMatl
1     2Story           7           5      2003         2003     Gable  CompShg
2     1Story           6           8      1976         1976     Gable  CompShg
3     2Story           7           5      2001         2002     Gable  CompShg
4     2Story           7           5      1915         1970     Gable  CompShg
5     2Story           8           5      2000         2000     Gable  CompShg
6     1.5Fin           5           5      1993         1995     Gable  CompShg
  Exterior1st Exterior2nd MasVnrType MasVnrArea ExterQual ExterCond Foundation
1     VinylSd     VinylSd    BrkFace        196        Gd        TA      PConc
2     MetalSd     MetalSd       None          0        TA        TA     CBlock
3     VinylSd     VinylSd    BrkFace        162        Gd        TA      PConc
4     Wd Sdng     Wd Shng       None          0        TA        TA     BrkTil
5     VinylSd     VinylSd    BrkFace        350        Gd        TA      PConc
6     VinylSd     VinylSd       None          0        TA        TA       Wood
  BsmtQual BsmtCond BsmtExposure BsmtFinType1 BsmtFinSF1 BsmtFinType2
1       Gd       TA           No          GLQ        706          Unf
2       Gd       TA           Gd          ALQ        978          Unf
3       Gd       TA           Mn          GLQ        486          Unf
4       TA       Gd           No          ALQ        216          Unf
5       Gd       TA           Av          GLQ        655          Unf
6       Gd       TA           No          GLQ        732          Unf
  BsmtFinSF2 BsmtUnfSF TotalBsmtSF Heating HeatingQC CentralAir Electrical
1          0       150         856    GasA        Ex          Y      SBrkr
2          0       284        1262    GasA        Ex          Y      SBrkr
3          0       434         920    GasA        Ex          Y      SBrkr
4          0       540         756    GasA        Gd          Y      SBrkr
5          0       490        1145    GasA        Ex          Y      SBrkr
6          0        64         796    GasA        Ex          Y      SBrkr
  X1stFlrSF X2ndFlrSF LowQualFinSF GrLivArea BsmtFullBath BsmtHalfBath FullBath
1       856       854            0      1710            1            0        2
2      1262         0            0      1262            0            1        2
3       920       866            0      1786            1            0        2
4       961       756            0      1717            1            0        1
5      1145      1053            0      2198            1            0        2
6       796       566            0      1362            1            0        1
  HalfBath BedroomAbvGr KitchenAbvGr KitchenQual TotRmsAbvGrd Functional
1        1            3            1          Gd            8        Typ
2        0            3            1          TA            6        Typ
3        1            3            1          Gd            6        Typ
4        0            3            1          Gd            7        Typ
5        1            4            1          Gd            9        Typ
6        1            1            1          TA            5        Typ
  Fireplaces FireplaceQu GarageType GarageYrBlt GarageFinish GarageCars
1          0        &lt;NA&gt;     Attchd        2003          RFn          2
2          1          TA     Attchd        1976          RFn          2
3          1          TA     Attchd        2001          RFn          2
4          1          Gd     Detchd        1998          Unf          3
5          1          TA     Attchd        2000          RFn          3
6          0        &lt;NA&gt;     Attchd        1993          Unf          2
  GarageArea GarageQual GarageCond PavedDrive WoodDeckSF OpenPorchSF
1        548         TA         TA          Y          0          61
2        460         TA         TA          Y        298           0
3        608         TA         TA          Y          0          42
4        642         TA         TA          Y          0          35
5        836         TA         TA          Y        192          84
6        480         TA         TA          Y         40          30
  EnclosedPorch X3SsnPorch ScreenPorch PoolArea PoolQC Fence MiscFeature
1             0          0           0        0   &lt;NA&gt;  &lt;NA&gt;        &lt;NA&gt;
2             0          0           0        0   &lt;NA&gt;  &lt;NA&gt;        &lt;NA&gt;
3             0          0           0        0   &lt;NA&gt;  &lt;NA&gt;        &lt;NA&gt;
4           272          0           0        0   &lt;NA&gt;  &lt;NA&gt;        &lt;NA&gt;
5             0          0           0        0   &lt;NA&gt;  &lt;NA&gt;        &lt;NA&gt;
6             0        320           0        0   &lt;NA&gt; MnPrv        Shed
  MiscVal MoSold YrSold SaleType SaleCondition SalePrice
1       0      2   2008       WD        Normal    208500
2       0      5   2007       WD        Normal    181500
3       0      9   2008       WD        Normal    223500
4       0      2   2006       WD       Abnorml    140000
5       0     12   2008       WD        Normal    250000
6     700     10   2009       WD        Normal    143000</code></pre>
</div>
</div>
</section>
<section id="creación-de-clasificación-de-la-variable-de-precios" class="level3">
<h3 class="anchored" data-anchor-id="creación-de-clasificación-de-la-variable-de-precios">2. Creación de clasificación de la variable de precios</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>p33 <span class="ot">&lt;-</span> <span class="fu">quantile</span>(datos<span class="sc">$</span>SalePrice, <span class="fl">0.33</span>)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>p66 <span class="ot">&lt;-</span> <span class="fu">quantile</span>(datos<span class="sc">$</span>SalePrice, <span class="fl">0.66</span>)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>datos <span class="ot">&lt;-</span> datos <span class="sc">%&gt;%</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">clasificacion =</span> <span class="fu">ifelse</span>(datos<span class="sc">$</span>SalePrice <span class="sc">&lt;</span> p33, <span class="st">"Economicas"</span>,</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>        <span class="fu">ifelse</span>(datos<span class="sc">$</span>SalePrice <span class="sc">&lt;</span> p66, <span class="st">"Intermedias"</span>,</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Caras"</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>    ))</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>datos<span class="sc">$</span>clasificacion <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(datos<span class="sc">$</span>clasificacion)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="uso-de-train-y-test-previos" class="level3">
<h3 class="anchored" data-anchor-id="uso-de-train-y-test-previos">3. Uso de train y test previos</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(datos)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  OverallQual  BsmtFinSF1   BsmtUnfSF  X2ndFlrSF    PoolArea     MiscVal
1  0.65125610  0.57522774 -0.94426706  1.1614536 -0.06866822 -0.08765778
2 -0.07181151  1.17159068 -0.64100836 -0.7948909 -0.06866822 -0.08765778
3  0.65125610  0.09287536 -0.30153966  1.1889432 -0.06866822 -0.08765778
4  0.65125610 -0.49910256 -0.06164845  0.9369551 -0.06866822 -0.08765778
5  1.37432370  0.46340969 -0.17480468  1.6173231 -0.06866822 -0.08765778
6 -0.79487911  0.63223302 -1.13889578  0.5017028 -0.06866822  1.32328259
     SalePrice Neighborhood HouseStyle LotConfig clasificacion
1  0.347154270      CollgCr     2Story    Inside         Caras
2  0.007285824      Veenker     1Story       FR2   Intermedias
3  0.535970074      CollgCr     2Story    Inside         Caras
4 -0.515104565      Crawfor     2Story    Corner   Intermedias
5  0.869544659      NoRidge     2Story       FR2         Caras
6 -0.477341404      Mitchel     1.5Fin    Inside   Intermedias</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>porcentaje <span class="ot">&lt;-</span> <span class="fl">0.7</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>corte <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="fu">nrow</span>(datos), <span class="fu">nrow</span>(datos) <span class="sc">*</span> porcentaje)</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>train <span class="ot">&lt;-</span> datos[corte, ]</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>test <span class="ot">&lt;-</span> datos[<span class="sc">-</span>corte, ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="genere-varios-modelos-de-svm-con-diferentes-kernels-y-distintos-valores-en-c-y-en-d" class="level2">
<h2 class="anchored" data-anchor-id="genere-varios-modelos-de-svm-con-diferentes-kernels-y-distintos-valores-en-c-y-en-d">4. Genere varios modelos de SVM con diferentes kernels y distintos valores en c y en d</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>    modeloSVM_L1<span class="ot">&lt;-</span><span class="fu">svm</span>(clasificacion<span class="sc">~</span>., <span class="at">data=</span>train, <span class="at">cost=</span><span class="dv">2</span><span class="sc">^-</span><span class="dv">5</span>, <span class="at">kernel=</span><span class="st">"linear"</span>)</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>    modeloSVM_L2<span class="ot">&lt;-</span><span class="fu">svm</span>(clasificacion<span class="sc">~</span>., <span class="at">data=</span>train, <span class="at">cost=</span><span class="fl">0.5</span>, <span class="at">kernel=</span><span class="st">"linear"</span>)</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>    modeloSVM_R1<span class="ot">&lt;-</span><span class="fu">svm</span>(clasificacion<span class="sc">~</span>., <span class="at">data=</span>train, <span class="at">gamma=</span><span class="dv">2</span><span class="sc">^-</span><span class="dv">5</span>, <span class="at">kernel=</span><span class="st">"radial"</span>)</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>    modeloSVM_R2<span class="ot">&lt;-</span><span class="fu">svm</span>(clasificacion<span class="sc">~</span>., <span class="at">data=</span>train, <span class="at">gamma=</span><span class="dv">2</span><span class="sc">^</span><span class="dv">1</span>, <span class="at">kernel=</span><span class="st">"radial"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="use-los-modelos-para-predecir-el-valor-de-la-variable-respuesta" class="level2">
<h2 class="anchored" data-anchor-id="use-los-modelos-para-predecir-el-valor-de-la-variable-respuesta">5. Use los modelos para predecir el valor de la variable respuesta</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>    <span class="fu">Rprof</span>(<span class="at">memory.profiling =</span> <span class="cn">TRUE</span>)</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>    predicciones_L1<span class="ot">&lt;-</span><span class="fu">predict</span>(modeloSVM_L1, test)</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">Sys.sleep</span>(<span class="dv">1</span>)</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">Rprof</span>(<span class="cn">NULL</span>)</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>    pm1 <span class="ot">&lt;-</span> <span class="fu">summaryRprof</span>(<span class="at">memory =</span> <span class="st">"both"</span>)</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">Rprof</span>(<span class="at">memory.profiling =</span> <span class="cn">TRUE</span>)</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>    predicciones_L2<span class="ot">&lt;-</span><span class="fu">predict</span>(modeloSVM_L2, test)</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">Sys.sleep</span>(<span class="dv">1</span>)</span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">Rprof</span>(<span class="cn">NULL</span>)</span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>    pm2 <span class="ot">&lt;-</span> <span class="fu">summaryRprof</span>(<span class="at">memory =</span> <span class="st">"both"</span>)</span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">Rprof</span>(<span class="at">memory.profiling =</span> <span class="cn">TRUE</span>)</span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>    predicciones_R1<span class="ot">&lt;-</span><span class="fu">predict</span>(modeloSVM_R1, test)</span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">Sys.sleep</span>(<span class="dv">1</span>)</span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">Rprof</span>(<span class="cn">NULL</span>)</span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a>    pm3 <span class="ot">&lt;-</span> <span class="fu">summaryRprof</span>(<span class="at">memory =</span> <span class="st">"both"</span>)</span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">Rprof</span>(<span class="at">memory.profiling =</span> <span class="cn">TRUE</span>)</span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a>    predicciones_R2<span class="ot">&lt;-</span><span class="fu">predict</span>(modeloSVM_R2, test)</span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a>    <span class="fu">Sys.sleep</span>(<span class="dv">1</span>)</span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a>    <span class="fu">Rprof</span>(<span class="cn">NULL</span>)</span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true" tabindex="-1"></a>    pm4 <span class="ot">&lt;-</span> <span class="fu">summaryRprof</span>(<span class="at">memory =</span> <span class="st">"both"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="haga-las-matrices-de-confusión-respectivas" class="level2">
<h2 class="anchored" data-anchor-id="haga-las-matrices-de-confusión-respectivas">6. Haga las matrices de confusión respectivas</h2>
<section id="modelo-lineal-1" class="level3">
<h3 class="anchored" data-anchor-id="modelo-lineal-1">Modelo Lineal 1</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>    <span class="fu">confusionMatrix</span>(test<span class="sc">$</span>clasificacion, predicciones_L1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Confusion Matrix and Statistics

             Reference
Prediction    Caras Economicas Intermedias
  Caras         143          0           9
  Economicas      0        126          14
  Intermedias     4         18         125

Overall Statistics
                                          
               Accuracy : 0.8975          
                 95% CI : (0.8652, 0.9242)
    No Information Rate : 0.3371          
    P-Value [Acc &gt; NIR] : &lt; 2.2e-16       
                                          
                  Kappa : 0.8462          
                                          
 Mcnemar's Test P-Value : NA              

Statistics by Class:

                     Class: Caras Class: Economicas Class: Intermedias
Sensitivity                0.9728            0.8750             0.8446
Specificity                0.9692            0.9525             0.9244
Pos Pred Value             0.9408            0.9000             0.8503
Neg Pred Value             0.9861            0.9398             0.9212
Prevalence                 0.3349            0.3280             0.3371
Detection Rate             0.3257            0.2870             0.2847
Detection Prevalence       0.3462            0.3189             0.3349
Balanced Accuracy          0.9710            0.9138             0.8845</code></pre>
</div>
</div>
</section>
<section id="modelo-lineal-2" class="level3">
<h3 class="anchored" data-anchor-id="modelo-lineal-2">Modelo Lineal 2</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>    <span class="fu">confusionMatrix</span>(test<span class="sc">$</span>clasificacion, predicciones_L2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Confusion Matrix and Statistics

             Reference
Prediction    Caras Economicas Intermedias
  Caras         148          0           4
  Economicas      0        135           5
  Intermedias     2         10         135

Overall Statistics
                                          
               Accuracy : 0.9522          
                 95% CI : (0.9278, 0.9701)
    No Information Rate : 0.3417          
    P-Value [Acc &gt; NIR] : &lt; 2.2e-16       
                                          
                  Kappa : 0.9282          
                                          
 Mcnemar's Test P-Value : NA              

Statistics by Class:

                     Class: Caras Class: Economicas Class: Intermedias
Sensitivity                0.9867            0.9310             0.9375
Specificity                0.9862            0.9830             0.9593
Pos Pred Value             0.9737            0.9643             0.9184
Neg Pred Value             0.9930            0.9666             0.9692
Prevalence                 0.3417            0.3303             0.3280
Detection Rate             0.3371            0.3075             0.3075
Detection Prevalence       0.3462            0.3189             0.3349
Balanced Accuracy          0.9864            0.9570             0.9484</code></pre>
</div>
</div>
</section>
<section id="modelo-radial-1" class="level3">
<h3 class="anchored" data-anchor-id="modelo-radial-1">Modelo Radial 1</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>    <span class="fu">confusionMatrix</span>(test<span class="sc">$</span>clasificacion, predicciones_R1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Confusion Matrix and Statistics

             Reference
Prediction    Caras Economicas Intermedias
  Caras         144          0           8
  Economicas      0        128          12
  Intermedias     6         14         127

Overall Statistics
                                         
               Accuracy : 0.9089         
                 95% CI : (0.878, 0.9341)
    No Information Rate : 0.3417         
    P-Value [Acc &gt; NIR] : &lt; 2.2e-16      
                                         
                  Kappa : 0.8633         
                                         
 Mcnemar's Test P-Value : NA             

Statistics by Class:

                     Class: Caras Class: Economicas Class: Intermedias
Sensitivity                0.9600            0.9014             0.8639
Specificity                0.9723            0.9596             0.9315
Pos Pred Value             0.9474            0.9143             0.8639
Neg Pred Value             0.9791            0.9532             0.9315
Prevalence                 0.3417            0.3235             0.3349
Detection Rate             0.3280            0.2916             0.2893
Detection Prevalence       0.3462            0.3189             0.3349
Balanced Accuracy          0.9662            0.9305             0.8977</code></pre>
</div>
</div>
</section>
<section id="modelo-radial-2" class="level3">
<h3 class="anchored" data-anchor-id="modelo-radial-2">Modelo Radial 2</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>    <span class="fu">confusionMatrix</span>(test<span class="sc">$</span>clasificacion, predicciones_R2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Confusion Matrix and Statistics

             Reference
Prediction    Caras Economicas Intermedias
  Caras         147          0           5
  Economicas     25         96          19
  Intermedias    42         18          87

Overall Statistics
                                          
               Accuracy : 0.7517          
                 95% CI : (0.7085, 0.7914)
    No Information Rate : 0.4875          
    P-Value [Acc &gt; NIR] : &lt; 2.2e-16       
                                          
                  Kappa : 0.6259          
                                          
 Mcnemar's Test P-Value : 1.04e-11        

Statistics by Class:

                     Class: Caras Class: Economicas Class: Intermedias
Sensitivity                0.6869            0.8421             0.7838
Specificity                0.9778            0.8646             0.8171
Pos Pred Value             0.9671            0.6857             0.5918
Neg Pred Value             0.7666            0.9398             0.9178
Prevalence                 0.4875            0.2597             0.2528
Detection Rate             0.3349            0.2187             0.1982
Detection Prevalence       0.3462            0.3189             0.3349
Balanced Accuracy          0.8323            0.8534             0.8004</code></pre>
</div>
</div>
</section>
</section>
<section id="analice-si-los-modelos-estan-sobreajustados" class="level2">
<h2 class="anchored" data-anchor-id="analice-si-los-modelos-estan-sobreajustados">7. Analice si los modelos estan sobreajustados</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>    datos.task <span class="ot">=</span> <span class="fu">makeClassifTask</span>(<span class="at">data =</span> train, <span class="at">target =</span> <span class="st">"clasificacion"</span>)</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>    rin2 <span class="ot">=</span> <span class="fu">makeResampleDesc</span>(<span class="at">method =</span> <span class="st">"CV"</span>, <span class="at">iters =</span> <span class="dv">10</span>, <span class="at">predict =</span> <span class="st">"both"</span>)</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>    lrn <span class="ot">=</span> <span class="fu">makeLearner</span>(<span class="st">"classif.svm"</span>, <span class="at">kernel =</span> <span class="st">"linear"</span>, <span class="at">cost =</span> <span class="dv">2</span><span class="sc">^-</span><span class="dv">5</span>, <span class="at">type =</span> <span class="st">"C-classification"</span>)</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>    lc2 <span class="ot">=</span> <span class="fu">generateLearningCurveData</span>(<span class="at">learners =</span> lrn, <span class="at">task =</span> datos.task,</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">percs =</span> <span class="fu">seq</span>(<span class="fl">0.1</span>, <span class="dv">1</span>, <span class="at">by =</span> <span class="fl">0.1</span>),</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">measures =</span> <span class="fu">list</span>(ber, <span class="fu">setAggregation</span>(ber, train.mean)), <span class="at">resampling =</span> rin2,</span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">show.info =</span> <span class="cn">FALSE</span>)</span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">plotLearningCurve</span>(lc2, <span class="at">facet =</span> <span class="st">"learner"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="HDT_7_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Al observar la curva de aprendizaje se puede concluir que el modelo NO sufre ni de overfitting, underfitting. Esto se dice ya que tanto la curva de test como la de training están relativamente cercas en todo el trayecto, además de que ambas llegan a converger en un mismo punto al finalizar las predicciones del modelo. Por lo mismo no hay necesidad de manejar el sobreajuste o desajuste.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>    datos.task <span class="ot">=</span> <span class="fu">makeClassifTask</span>(<span class="at">data =</span> train, <span class="at">target =</span> <span class="st">"clasificacion"</span>)</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>    rin2 <span class="ot">=</span> <span class="fu">makeResampleDesc</span>(<span class="at">method =</span> <span class="st">"CV"</span>, <span class="at">iters =</span> <span class="dv">10</span>, <span class="at">predict =</span> <span class="st">"both"</span>)</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>    lrn <span class="ot">=</span> <span class="fu">makeLearner</span>(<span class="st">"classif.svm"</span>, <span class="at">kernel =</span> <span class="st">"linear"</span>, <span class="at">cost =</span> <span class="fl">0.5</span>, <span class="at">type =</span> <span class="st">"C-classification"</span>)</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>    lc2 <span class="ot">=</span> <span class="fu">generateLearningCurveData</span>(<span class="at">learners =</span> lrn, <span class="at">task =</span> datos.task,</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">percs =</span> <span class="fu">seq</span>(<span class="fl">0.1</span>, <span class="dv">1</span>, <span class="at">by =</span> <span class="fl">0.1</span>),</span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">measures =</span> <span class="fu">list</span>(ber, <span class="fu">setAggregation</span>(ber, train.mean)), <span class="at">resampling =</span> rin2,</span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">show.info =</span> <span class="cn">FALSE</span>)</span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">plotLearningCurve</span>(lc2, <span class="at">facet =</span> <span class="st">"learner"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="HDT_7_files/figure-html/unnamed-chunk-13-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Al observar la curva de aprendizaje, podemos notar que la curva de training empieza a bajar mientras más datos hay. Por lo tanto este modelo tiene underfitting. Para mitigar esto se puede incrementar la C del modelo para tener un boundary más rígido, de forma que se tenga menos clasificaciones erróneas.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>    datos.task <span class="ot">=</span> <span class="fu">makeClassifTask</span>(<span class="at">data =</span> train, <span class="at">target =</span> <span class="st">"clasificacion"</span>)</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>    rin2 <span class="ot">=</span> <span class="fu">makeResampleDesc</span>(<span class="at">method =</span> <span class="st">"CV"</span>, <span class="at">iters =</span> <span class="dv">10</span>, <span class="at">predict =</span> <span class="st">"both"</span>)</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>    lrn <span class="ot">=</span> <span class="fu">makeLearner</span>(<span class="st">"classif.svm"</span>, <span class="at">kernel =</span> <span class="st">"radial"</span>, <span class="at">cost =</span> <span class="dv">1</span>, <span class="at">gamma =</span> <span class="dv">2</span><span class="sc">^-</span><span class="dv">5</span>, <span class="at">type =</span> <span class="st">"C-classification"</span>)</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>    lc2 <span class="ot">=</span> <span class="fu">generateLearningCurveData</span>(<span class="at">learners =</span> lrn, <span class="at">task =</span> datos.task,</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">percs =</span> <span class="fu">seq</span>(<span class="fl">0.1</span>, <span class="dv">1</span>, <span class="at">by =</span> <span class="fl">0.1</span>),</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">measures =</span> <span class="fu">list</span>(ber, <span class="fu">setAggregation</span>(ber, train.mean)), <span class="at">resampling =</span> rin2,</span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">show.info =</span> <span class="cn">FALSE</span>)</span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">plotLearningCurve</span>(lc2, <span class="at">facet =</span> <span class="st">"learner"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="HDT_7_files/figure-html/unnamed-chunk-14-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Al observar la curva de aprendizaje se nota que la curva de training siempre va en descenso a pesar de que exista mayor cantidad de datos desde el inicio. Por lo mismo se puede considerar que este modelo posee overfitting. Para poder manejar el sobreajuste que posee este modelo se podría bajar la C para que sea más flexible y así poder aceptar mayor cantidad de errores.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>    datos.task <span class="ot">=</span> <span class="fu">makeClassifTask</span>(<span class="at">data =</span> train, <span class="at">target =</span> <span class="st">"clasificacion"</span>)</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>    rin2 <span class="ot">=</span> <span class="fu">makeResampleDesc</span>(<span class="at">method =</span> <span class="st">"CV"</span>, <span class="at">iters =</span> <span class="dv">10</span>, <span class="at">predict =</span> <span class="st">"both"</span>)</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>    lrn <span class="ot">=</span> <span class="fu">makeLearner</span>(<span class="st">"classif.svm"</span>, <span class="at">kernel =</span> <span class="st">"radial"</span>, <span class="at">cost =</span> <span class="dv">1</span>, <span class="at">gamma =</span> <span class="dv">2</span><span class="sc">^</span><span class="dv">1</span>, <span class="at">type =</span> <span class="st">"C-classification"</span>)</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>    lc2 <span class="ot">=</span> <span class="fu">generateLearningCurveData</span>(<span class="at">learners =</span> lrn, <span class="at">task =</span> datos.task,</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">percs =</span> <span class="fu">seq</span>(<span class="fl">0.1</span>, <span class="dv">1</span>, <span class="at">by =</span> <span class="fl">0.1</span>),</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">measures =</span> <span class="fu">list</span>(ber, <span class="fu">setAggregation</span>(ber, train.mean)), <span class="at">resampling =</span> rin2,</span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">show.info =</span> <span class="cn">FALSE</span>)</span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">plotLearningCurve</span>(lc2, <span class="at">facet =</span> <span class="st">"learner"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="HDT_7_files/figure-html/unnamed-chunk-15-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Al observar la curva de aprendisaje, podemos notar que la curva de training esta muy mala ya que es casi un linea recta y la curva de test esta muy mala ya que esta muy alejada de la curva de training. Por lo tanto este modelo tiene overfitting. Ademas de que el test tiene un margen muy amplio, por lo tanto se puede decir que el modelo no es bueno. Para mitigar esto se puede disminuir la C del modelo para tener un boundary mas flexible, de forma que se tenga menos clasificaciones erróneas.</p>
<section id="comparación-de-resultados." class="level3">
<h3 class="anchored" data-anchor-id="comparación-de-resultados.">8. Comparación de resultados.</h3>
<section id="efectividad-y-equivocaviones-de-resultados" class="level4">
<h4 class="anchored" data-anchor-id="efectividad-y-equivocaviones-de-resultados">Efectividad y equivocaviones de resultados</h4>
<section id="para-los-modelos-lineales" class="level5">
<h5 class="anchored" data-anchor-id="para-los-modelos-lineales">Para los modelos lineales</h5>
<p>Para el modelo Linel 1 tenemos un accuracy de 0.89. Esto nos indica que el modelo es basatnte bueno para hacer predicciones sobre casas caras, asi mismo se puede observaciones que el modelo no tiene tantas equivocaciones con un Sensitivity de 0.97 y un Specificity 0.96.</p>
<p>Para el modelo Linel 2 tenemos un accuracy de 0.95. Esto nos indica que el modelo es basatnte bueno para hacer predicciones sobre casas caras mejor que el modelo pasado, asi mismo se puede observaciones que el modelo no tiene tantas equivocaciones con un Sensitivity de 0.98 y un Specificity 0.98.</p>
</section>
<section id="para-los-modelos-radiales" class="level5">
<h5 class="anchored" data-anchor-id="para-los-modelos-radiales">Para los modelos Radiales</h5>
<p>El modelo 1 tiene un Accuracy de 0.90. Esto nos idndica que es un buen modelo, ademas de no estar overtifiado, esto lo podemos respaldar con la matris de confucion ya que podemos observar que los truePositive son bien identificados y con los que mayor se llego a equivocar fueron con los Flasosnegativos de Economicas.</p>
<p>En el modelo 2 se obtuvo un Accuracy de 0.75 lo cual nos indica que el modelo no es muy bueno para hacer predicciones, ademas de estar sobreajustado, esto lo podemos respaldar con la matris de confucion ya que podemos observar que los truePositive son mal identificados y con los que mayor se llego a equivocar fueron con los Flasosnegativos de Caras.</p>
</section>
</section>
<section id="tiempo-de-procesamiento" class="level4">
<h4 class="anchored" data-anchor-id="tiempo-de-procesamiento">Tiempo de procesamiento</h4>
<section id="tiempo-de-modelos" class="level5">
<h5 class="anchored" data-anchor-id="tiempo-de-modelos">Tiempo de modelos</h5>
<p>El modelo lineal 1 tuvo un tiempo de procesamiento de 0.66</p>
<p>El modelo lineal 2 tuvo un tiempo de procesamiento de 0.68</p>
<p>El modelo radial 1 tuvo un tiempo de procesamiento de 0.68</p>
<p>El modelo radial 2 tuvo un tiempo de procesamiento de 0.68</p>
</section>
</section>
<section id="conclusion" class="level4">
<h4 class="anchored" data-anchor-id="conclusion">Conclusion</h4>
<p>El mejor modelo es el lineal 1, porque es el unico que no posee ni sobre ni desajuste y posee un accuracy bastante elevado.</p>
</section>
</section>
<section id="comparación-con-modelos-previos-de-clasificación." class="level3">
<h3 class="anchored" data-anchor-id="comparación-con-modelos-previos-de-clasificación.">9. Comparación con modelos previos de clasificación.</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>train_1 <span class="ot">&lt;-</span> <span class="fu">select</span>(train, <span class="sc">-</span>SalePrice)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="árbol-de-decisión" class="level4">
<h4 class="anchored" data-anchor-id="árbol-de-decisión">9.1 Árbol de decisión</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>modelo_arbol <span class="ot">&lt;-</span> <span class="fu">rpart</span>(clasificacion <span class="sc">~</span> ., <span class="at">data =</span> train_1, <span class="at">method =</span> <span class="st">"class"</span>, <span class="at">maxdepth =</span> <span class="dv">4</span>)</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="fu">rpart.plot</span>(modelo_arbol)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="HDT_7_files/figure-html/unnamed-chunk-17-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>pm4 <span class="ot">&lt;-</span> <span class="fu">summaryRprof</span>(<span class="at">memory =</span> <span class="st">"both"</span>)</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>y_pred <span class="ot">&lt;-</span> <span class="fu">predict</span>(modelo_arbol, test, <span class="at">type =</span> <span class="st">"class"</span>)</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a><span class="fu">confusionMatrix</span>(y_pred, test<span class="sc">$</span>clasificacion)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Confusion Matrix and Statistics

             Reference
Prediction    Caras Economicas Intermedias
  Caras         123          1          20
  Economicas      6        121          39
  Intermedias    23         18          88

Overall Statistics
                                          
               Accuracy : 0.7563          
                 95% CI : (0.7133, 0.7957)
    No Information Rate : 0.3462          
    P-Value [Acc &gt; NIR] : &lt; 2.2e-16       
                                          
                  Kappa : 0.6348          
                                          
 Mcnemar's Test P-Value : 0.009232        

Statistics by Class:

                     Class: Caras Class: Economicas Class: Intermedias
Sensitivity                0.8092            0.8643             0.5986
Specificity                0.9268            0.8495             0.8596
Pos Pred Value             0.8542            0.7289             0.6822
Neg Pred Value             0.9017            0.9304             0.8097
Prevalence                 0.3462            0.3189             0.3349
Detection Rate             0.2802            0.2756             0.2005
Detection Prevalence       0.3280            0.3781             0.2938
Balanced Accuracy          0.8680            0.8569             0.7291</code></pre>
</div>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>pm4<span class="sc">$</span>sampling.time</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.68</code></pre>
</div>
</div>
</section>
<section id="random-forest" class="level4">
<h4 class="anchored" data-anchor-id="random-forest">9.2 Random Forest</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>modeloRF <span class="ot">&lt;-</span> <span class="fu">randomForest</span>(clasificacion <span class="sc">~</span> ., train_1, <span class="at">na.action =</span> na.omit)</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>pm5 <span class="ot">&lt;-</span> <span class="fu">summaryRprof</span>(<span class="at">memory =</span> <span class="st">"both"</span>)</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>ypred <span class="ot">&lt;-</span> <span class="fu">predict</span>(modeloRF, <span class="at">newdata =</span> test)</span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>ypred <span class="ot">&lt;-</span> <span class="fu">factor</span>(ypred)</span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a><span class="fu">confusionMatrix</span>(ypred, test<span class="sc">$</span>clasificacion)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Confusion Matrix and Statistics

             Reference
Prediction    Caras Economicas Intermedias
  Caras         123          1          18
  Economicas      3        114          32
  Intermedias    26         25          97

Overall Statistics
                                       
               Accuracy : 0.7608       
                 95% CI : (0.7181, 0.8)
    No Information Rate : 0.3462       
    P-Value [Acc &gt; NIR] : &lt;2e-16       
                                       
                  Kappa : 0.6413       
                                       
 Mcnemar's Test P-Value : 0.3457       

Statistics by Class:

                     Class: Caras Class: Economicas Class: Intermedias
Sensitivity                0.8092            0.8143             0.6599
Specificity                0.9338            0.8829             0.8253
Pos Pred Value             0.8662            0.7651             0.6554
Neg Pred Value             0.9024            0.9103             0.8282
Prevalence                 0.3462            0.3189             0.3349
Detection Rate             0.2802            0.2597             0.2210
Detection Prevalence       0.3235            0.3394             0.3371
Balanced Accuracy          0.8715            0.8486             0.7426</code></pre>
</div>
</div>
</section>
<section id="naive-bayes" class="level4">
<h4 class="anchored" data-anchor-id="naive-bayes">9.3 Naive Bayes</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>modeloNB <span class="ot">&lt;-</span> <span class="fu">naiveBayes</span>(clasificacion <span class="sc">~</span> ., train_1)</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>pm6 <span class="ot">&lt;-</span> <span class="fu">summaryRprof</span>(<span class="at">memory =</span> <span class="st">"both"</span>)</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>ypred <span class="ot">&lt;-</span> <span class="fu">predict</span>(modeloNB, <span class="at">newdata =</span> test)</span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>ypred <span class="ot">&lt;-</span> <span class="fu">factor</span>(ypred)</span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a><span class="fu">confusionMatrix</span>(ypred, test<span class="sc">$</span>clasificacion)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Confusion Matrix and Statistics

             Reference
Prediction    Caras Economicas Intermedias
  Caras          85          0          13
  Economicas     64        140         131
  Intermedias     3          0           3

Overall Statistics
                                         
               Accuracy : 0.5194         
                 95% CI : (0.4715, 0.567)
    No Information Rate : 0.3462         
    P-Value [Acc &gt; NIR] : 8.105e-14      
                                         
                  Kappa : 0.2877         
                                         
 Mcnemar's Test P-Value : &lt; 2.2e-16      

Statistics by Class:

                     Class: Caras Class: Economicas Class: Intermedias
Sensitivity                0.5592            1.0000           0.020408
Specificity                0.9547            0.3478           0.989726
Pos Pred Value             0.8673            0.4179           0.500000
Neg Pred Value             0.8035            1.0000           0.667436
Prevalence                 0.3462            0.3189           0.334852
Detection Rate             0.1936            0.3189           0.006834
Detection Prevalence       0.2232            0.7631           0.013667
Balanced Accuracy          0.7570            0.6739           0.505067</code></pre>
</div>
</div>
<p>Al comparar estos modelos con el mejor modelo de SVM, que fue el modelo lineal 1, es posible observar que este fue el mejor. Tuvo un accuracy de 0.89, fue el mejor modelo para clasificación de casas caras con una sensitivity de 0.97 y specificity de 0.96. Para clasificación de true positives de económicas el mejor modelo fue el de naive bayes, pero este tuvo un accuracy de 0.52, ligeramente mejor que un modelo aleatorio. Casi todos los modelos anteriores fueron muy malos para clasificación de casas intermedias, solo naive bayes tuvo un specificity de 0.98, pero en general, SVM fue superior. De los tres modelos anteriores, Random Forest tuvo el mejor accuracy con 0.76.</p>
</section>
</section>
<section id="modelos-de-regresion" class="level3">
<h3 class="anchored" data-anchor-id="modelos-de-regresion">10. Modelos de Regresion</h3>
<section id="modelo-de-regresión-svm" class="level4">
<h4 class="anchored" data-anchor-id="modelo-de-regresión-svm">10.1 Modelo de regresión SVM</h4>
<p>Se realizaron dummies de las variables por el encoding de la regresión de SVM. 3</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>hot_encoded <span class="ot">&lt;-</span> <span class="fu">dummyVars</span>(<span class="sc">~</span>Neighborhood<span class="sc">+</span>HouseStyle<span class="sc">+</span>LotConfig, <span class="at">data =</span> train)</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>train_hot <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="fu">predict</span>(hot_encoded, <span class="at">newdata =</span> train))</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>train <span class="ot">&lt;-</span> <span class="fu">cbind</span>(train, train_hot)</span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>train <span class="ot">&lt;-</span> train[, variables_m2]</span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>hot_encoded <span class="ot">&lt;-</span> <span class="fu">dummyVars</span>(<span class="sc">~</span>Neighborhood<span class="sc">+</span>HouseStyle<span class="sc">+</span>LotConfig, <span class="at">data =</span> test)</span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a>test_hot <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="fu">predict</span>(hot_encoded, <span class="at">newdata =</span> test))</span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a>test <span class="ot">&lt;-</span> <span class="fu">cbind</span>(test, test_hot)</span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a>test <span class="ot">&lt;-</span> test[, variables_m2]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>modelo_svm <span class="ot">&lt;-</span> <span class="fu">svm</span>(SalePrice <span class="sc">~</span> ., <span class="at">data =</span> train, <span class="at">type =</span> <span class="st">"eps-regression"</span>, <span class="at">kernel =</span> <span class="st">"linear"</span>)</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>predicciones <span class="ot">&lt;-</span> <span class="fu">predict</span>(modelo_svm, <span class="at">newdata =</span> test)</span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a><span class="fu">mse</span>(predicciones, test<span class="sc">$</span>SalePrice)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.2022909</code></pre>
</div>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>svmrmse <span class="ot">&lt;-</span> <span class="fu">rmse</span>(predicciones, test<span class="sc">$</span>SalePrice)</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>svmrmse</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.4497676</code></pre>
</div>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(test<span class="sc">$</span>SalePrice, <span class="at">col =</span> <span class="st">"blue"</span>)</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a><span class="fu">points</span>(predicciones, <span class="at">col =</span> <span class="st">"red"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="HDT_7_files/figure-html/unnamed-chunk-21-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>r_squared <span class="ot">&lt;-</span> <span class="fu">postResample</span>(predicciones, test<span class="sc">$</span>SalePrice)[<span class="st">"Rsquared"</span>]</span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>r_squared</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> Rsquared 
0.8063071 </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>predicciones_clasificacion <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(predicciones <span class="sc">&lt;</span> p33, <span class="st">"Economicas"</span>,</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>                                  <span class="fu">ifelse</span>(predicciones <span class="sc">&lt;</span> p66, <span class="st">"Intermedias"</span>, <span class="st">"Caras"</span>))</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Crear un data frame con las predicciones y sus respectivas categorías</span></span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>predicciones_df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">Predicciones =</span> predicciones,</span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a>                              <span class="at">Clasificacion =</span> <span class="fu">factor</span>(predicciones_clasificacion,</span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a>                                                     <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Economicas"</span>, <span class="st">"Intermedias"</span>, <span class="st">"Caras"</span>)))</span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-9"><a href="#cb39-9" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(predicciones_df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Predicciones Clasificacion
1    0.41822874         Caras
3    0.39271983         Caras
7    1.08184704         Caras
14   0.14958962         Caras
15  -0.07860039   Intermedias
21   1.56839290         Caras</code></pre>
</div>
</div>
</section>
<section id="regresión-lineal-simple" class="level4">
<h4 class="anchored" data-anchor-id="regresión-lineal-simple">10.2 Regresión lineal simple</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>sale_simple_model <span class="ot">&lt;-</span> <span class="fu">lm</span>(SalePrice <span class="sc">~</span> OverallQual, <span class="at">data =</span> train)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Luego de haber entrenado el modelo se mostraron sus características.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(sale_simple_model)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = SalePrice ~ OverallQual, data = train)

Residuals:
    Min      1Q  Median      3Q     Max 
-2.4635 -0.3745 -0.0235  0.2483  5.0261 

Coefficients:
             Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept) -0.008682   0.019471  -0.446    0.656    
OverallQual  0.783163   0.019432  40.302   &lt;2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 0.6221 on 1019 degrees of freedom
Multiple R-squared:  0.6145,    Adjusted R-squared:  0.6141 
F-statistic:  1624 on 1 and 1019 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>predLM <span class="ot">&lt;-</span> <span class="fu">predict</span>(sale_simple_model, <span class="at">newdata =</span> test)</span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a><span class="fu">RMSE</span>(predLM, test<span class="sc">$</span>SalePrice)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.5883401</code></pre>
</div>
</div>
</section>
<section id="regresión-lineal-múltiple" class="level4">
<h4 class="anchored" data-anchor-id="regresión-lineal-múltiple">10.3 Regresión lineal múltiple</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>porcentaje <span class="ot">&lt;-</span> <span class="fl">0.7</span></span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>datos1 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(datos1)</span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>corte <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="fu">nrow</span>(datos1), <span class="fu">nrow</span>(datos1) <span class="sc">*</span> porcentaje)</span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a>train <span class="ot">&lt;-</span> datos1[corte, ]</span>
<span id="cb46-6"><a href="#cb46-6" aria-hidden="true" tabindex="-1"></a>test <span class="ot">&lt;-</span> datos1[<span class="sc">-</span>corte, ] </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>fitMLM_Sale <span class="ot">&lt;-</span> <span class="fu">lm</span>(train<span class="sc">$</span>SalePrice <span class="sc">~</span> ., <span class="at">data =</span> train)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(fitMLM_Sale)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = train$SalePrice ~ ., data = train)

Residuals:
    Min      1Q  Median      3Q     Max 
-6.6289 -0.2268  0.0032  0.2071  3.4508 

Coefficients:
             Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept) -0.008982   0.016067  -0.559 0.576280    
OverallQual  0.484276   0.022128  21.885  &lt; 2e-16 ***
MasVnrArea   0.083365   0.018465   4.515 7.09e-06 ***
BsmtFinSF1   0.115456   0.018862   6.121 1.33e-09 ***
GrLivArea    0.271645   0.021696  12.521  &lt; 2e-16 ***
Fireplaces   0.044332   0.018479   2.399 0.016621 *  
WoodDeckSF   0.072914   0.016848   4.328 1.66e-05 ***
OpenPorchSF  0.003295   0.017259   0.191 0.848613    
TotalBsmtSF  0.085887   0.022206   3.868 0.000117 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 0.5116 on 1007 degrees of freedom
Multiple R-squared:  0.7479,    Adjusted R-squared:  0.7459 
F-statistic: 373.4 on 8 and 1007 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>regresion_rmse <span class="ot">&lt;-</span> <span class="fu">RMSE</span>(<span class="fu">predict</span>(fitMLM_Sale, <span class="at">newdata =</span> test),test<span class="sc">$</span>SalePrice)</span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>regresion_rmse</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.4205177</code></pre>
</div>
</div>
</section>
</section>
<section id="arbol-de-clasificaion" class="level3">
<h3 class="anchored" data-anchor-id="arbol-de-clasificaion">10.4 Arbol de clasificaion</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>regression_tree <span class="ot">&lt;-</span> <span class="fu">rpart</span>(<span class="at">formula =</span> SalePrice <span class="sc">~</span> ., <span class="at">data =</span> train)</span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a><span class="fu">rpart.plot</span>(regression_tree, <span class="at">box.palette =</span> <span class="st">"green"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="HDT_7_files/figure-html/unnamed-chunk-30-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>ypred <span class="ot">&lt;-</span> <span class="fu">predict</span>(regression_tree, <span class="at">newdata =</span> test)</span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a>mse <span class="ot">&lt;-</span> <span class="fu">mean</span>((ypred <span class="sc">-</span> test<span class="sc">$</span>SalePrice)<span class="sc">^</span><span class="dv">2</span>)</span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate SSE</span></span>
<span id="cb53-6"><a href="#cb53-6" aria-hidden="true" tabindex="-1"></a>SSE <span class="ot">&lt;-</span> <span class="fu">sum</span>((ypred <span class="sc">-</span> test<span class="sc">$</span>SalePrice)<span class="sc">^</span><span class="dv">2</span>)</span>
<span id="cb53-7"><a href="#cb53-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-8"><a href="#cb53-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate TSS</span></span>
<span id="cb53-9"><a href="#cb53-9" aria-hidden="true" tabindex="-1"></a>TSS <span class="ot">&lt;-</span> <span class="fu">sum</span>((test<span class="sc">$</span>SalePrice <span class="sc">-</span> <span class="fu">mean</span>(test<span class="sc">$</span>SalePrice))<span class="sc">^</span><span class="dv">2</span>)</span>
<span id="cb53-10"><a href="#cb53-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-11"><a href="#cb53-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate R-squared value</span></span>
<span id="cb53-12"><a href="#cb53-12" aria-hidden="true" tabindex="-1"></a>r2 <span class="ot">&lt;-</span> <span class="dv">1</span> <span class="sc">-</span> SSE <span class="sc">/</span> TSS</span>
<span id="cb53-13"><a href="#cb53-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-14"><a href="#cb53-14" aria-hidden="true" tabindex="-1"></a>rmse <span class="ot">&lt;-</span> <span class="fu">RMSE</span>(ypred, test<span class="sc">$</span>SalePrice)</span>
<span id="cb53-15"><a href="#cb53-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-16"><a href="#cb53-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the results</span></span>
<span id="cb53-17"><a href="#cb53-17" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"R-squared:"</span>, r2, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>R-squared: 0.7016104 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"RMSE:"</span>, rmse, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>RMSE: 0.5258853 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(test<span class="sc">$</span>SalePrice, <span class="at">col =</span> <span class="st">"blue"</span>)</span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a><span class="fu">points</span>(ypred, <span class="at">col =</span> <span class="st">"red"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="HDT_7_files/figure-html/unnamed-chunk-30-2.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="comparacion-de-los-modelos" class="level3">
<h3 class="anchored" data-anchor-id="comparacion-de-los-modelos">Comparacion de los modelos</h3>
<p>El modelo de del SVM fue el mejor de todos obteniendo un r-cuadrado de 0.80 y un RMSE de 0.44 que fue mayoe a los demas modelos con los siguientes valores: El modelo de regresión lineal múltiple obtuvo un r-cuadrado de 0.745 y un RMSE de 0.42. El modelo de regresión lineal simple obtuvo un r-cuadrado de 0.61 y un RMSE de 0.58. El modelo de árbol de clasificación obtuvo un r-cuadrado de 0.7 y un RMSE de 0.52.</p>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>